# Quiz Maker Application

A comprehensive full-stack quiz maker application built with React, Node.js/Express, and MongoDB.

## Features

### Core Features
- **Quiz Creation from Scratch**: Create quizzes using an intuitive multi-step wizard
- **Quiz Import**: Import quizzes from JSON files or paste JSON directly
- **Draft Management**: Auto-save drafts, resume editing later
- **Image Upload**: Add images to questions and answer options
- **Time Limits**: Optional time limits for quizzes (5-180 minutes)
- **Tags/Categories**: Organize quizzes with custom tags
- **Share Codes**: Auto-generate share codes for easy sharing
- **Multiple Question Types**: Single-select and multi-select questions
- **Rationales & Hints**: Add explanations and hints for better learning

### Quiz Taking
- **Two Feedback Modes**: Immediate feedback or end-of-quiz summary
- **Progress Saving**: Resume incomplete quizzes
- **Skip Questions**: Skip and return to questions later
- **Hint System**: Optional hints during quiz taking
- **Detailed Results**: Review answers with rationales

### Analytics & History
- **Attempt History**: Track all past attempts with scores
- **Best Score Tracking**: See your best performance for each quiz
- **Question Statistics**: View performance across all attempts

## Technology Stack

- **Frontend**: React 18.3.1, React Router DOM 7.1.1, Tailwind CSS 3.4.17, Vite 6.0.7
- **Backend**: Node.js, Express 4.21.2, MongoDB (Mongoose 8.9.5)
- **Icons**: Lucide React 0.468.0

## Getting Started

### Prerequisites

- Node.js (v18 or higher)
- MongoDB (v5.0 or higher)
- npm or yarn

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/skykid17/quiz-maker.git
   cd quiz-maker
   ```

2. **Install Backend Dependencies**
   ```bash
   cd backend
   npm install
   ```

3. **Install Frontend Dependencies**
   ```bash
   cd ../frontend
   npm install
   ```

4. **Configure Environment Variables** (Optional)
   ```bash
   # In backend directory
   export MONGODB_URI="mongodb://localhost:27017/quiz-maker"
   export PORT=3001
   ```

5. **Start MongoDB**
   ```bash
   # Using MongoDB service
   mongod --dbpath /path/to/data/db
   
   # Or using MongoDB Atlas (cloud)
   # Set MONGODB_URI environment variable
   ```

6. **Build Frontend**
   ```bash
   cd frontend
   npm run build
   ```

7. **Start the Application**
   ```bash
   # From the quiz-maker root directory
   ./start.sh
   
   # Or manually:
   # Terminal 1: Start backend
   cd backend
   node server.js
   
   # Terminal 2: Start frontend (development)
   cd frontend
   npm run dev
   ```

8. **Access the Application**
   - Production: `http://localhost:3001`
   - Development: `http://localhost:5173`

## Usage

### Creating a Quiz

1. Click **"Create Quiz"** in the navigation bar
2. **Step 1 - Details**: Enter quiz metadata
   - Title (required, 3-200 characters)
   - Description (optional, up to 1000 characters)
   - Time limit (optional, 5-180 minutes)
   - Tags (optional, up to 10 tags)
   - Share code (auto-generated by default)
3. **Step 2 - Questions**: Add questions
   - Question text (required, 10-500 characters)
   - Question image (optional, max 5MB)
   - Hint (optional, up to 300 characters)
   - Answer options (2-8 per question)
     - Option text (required)
     - Mark as correct
     - Rationale (optional)
     - Option image (optional)
   - Drag-and-drop to reorder questions
4. **Step 3 - Review**: Review and publish
   - Review all details
   - Edit any section
   - Save as draft or publish

### Importing a Quiz

1. Click **"Import Quiz"** on the home page
2. Choose import method:
   - **Paste JSON**: Copy and paste quiz JSON
   - **Upload File**: Upload a .json file
   - **Share Code**: Enter a share code to import a copy

### Taking a Quiz

1. Click on a quiz card or "Start Quiz"
2. Choose feedback mode:
   - **Immediate**: See answers after each question
   - **End of Quiz**: See all results at the end
3. Answer questions (skip if needed)
4. Use hints if available
5. Submit quiz
6. Review detailed results

### Quiz JSON Format

```json
{
  "title": "My Quiz",
  "description": "Optional description",
  "timeLimit": 30,
  "tags": ["javascript", "web"],
  "questions": [
    {
      "question": "What is 2 + 2?",
      "hint": "Basic math",
      "imageUrl": "data:image/png;base64,...",
      "answerOptions": [
        {
          "text": "3",
          "isCorrect": false,
          "rationale": "Too low",
          "imageUrl": ""
        },
        {
          "text": "4",
          "isCorrect": true,
          "rationale": "Correct! 2+2=4",
          "imageUrl": ""
        },
        {
          "text": "5",
          "isCorrect": false,
          "rationale": "Too high",
          "imageUrl": ""
        }
      ]
    }
  ]
}
```

## API Endpoints

### Quizzes
- `GET /api/quizzes` - List all quizzes
- `GET /api/quizzes/:id` - Get quiz details
- `POST /api/quizzes` - Create a quiz
- `PUT /api/quizzes/:id` - Update quiz
- `DELETE /api/quizzes/:id` - Delete quiz
- `POST /api/quizzes/import` - Import quiz from JSON
- `GET /api/quizzes/:id/export` - Export quiz as JSON
- `POST /api/quizzes/:id/share` - Generate share code
- `GET /api/quizzes/shared/:code` - Get shared quiz
- `POST /api/quizzes/:id/duplicate` - Duplicate quiz

### Drafts
- `GET /api/drafts` - List all drafts
- `GET /api/drafts/:id` - Get draft details
- `POST /api/drafts` - Save draft
- `DELETE /api/drafts/:id` - Delete draft
- `POST /api/drafts/:id/publish` - Publish draft as quiz

### Attempts
- `GET /api/attempts` - List all attempts
- `GET /api/attempts/quiz/:quizId` - Get attempts for a quiz
- `GET /api/attempts/:id` - Get attempt details
- `POST /api/attempts` - Submit quiz attempt
- `DELETE /api/attempts/:id` - Delete attempt

### Progress
- `GET /api/progress/:quizId` - Get saved progress
- `POST /api/progress/:quizId` - Save progress
- `DELETE /api/progress/:quizId` - Clear progress

## Image Handling

The application uses **Base64 encoding** for image storage:

- Images are converted to base64 strings in the frontend
- Stored directly in MongoDB (be aware of 16MB document limit)
- Displayed using `data:image` URLs
- Supported formats: JPG, PNG, GIF, WebP
- Maximum file size: 5MB per image

**Future Migration**: The architecture supports easy migration to cloud storage (AWS S3, Cloudinary) if needed.

## Deployment

### Using Zo Computer

The application is configured to run on Zo Computer:

1. Push code to GitHub
2. Service auto-starts on boot
3. Access at: `https://quiz-maker-<handle>.zocomputer.io`

### Manual Deployment

1. Build the frontend: `npm run build`
2. Set environment variables for MongoDB
3. Start the server: `node backend/server.js`
4. The server serves both API and static files

## Project Structure

```
quiz-maker/
├── backend/
│   ├── models/
│   │   ├── Quiz.js
│   │   ├── QuizDraft.js
│   │   ├── Progress.js
│   │   └── Attempt.js
│   ├── routes/
│   │   ├── quizzes.js
│   │   ├── drafts.js
│   │   ├── progress.js
│   │   └── attempts.js
│   └── server.js
├── frontend/
│   ├── src/
│   │   ├── components/
│   │   │   ├── Layout.jsx
│   │   │   ├── ImportModal.jsx
│   │   │   ├── ShareModal.jsx
│   │   │   ├── CreateQuizWizard.jsx
│   │   │   ├── QuizMetadataForm.jsx
│   │   │   ├── QuestionListManager.jsx
│   │   │   ├── QuestionForm.jsx
│   │   │   ├── OptionInput.jsx
│   │   │   ├── ImageUpload.jsx
│   │   │   └── QuizReview.jsx
│   │   ├── pages/
│   │   │   ├── QuizListPage.jsx
│   │   │   ├── QuizDetailPage.jsx
│   │   │   ├── TakeQuizPage.jsx
│   │   │   ├── CreateQuizPage.jsx
│   │   │   ├── ReviewPage.jsx
│   │   │   └── HistoryPage.jsx
│   │   ├── utils/
│   │   │   ├── api.js
│   │   │   └── quizHelpers.js
│   │   ├── App.jsx
│   │   ├── main.jsx
│   │   └── index.css
│   ├── index.html
│   ├── vite.config.js
│   └── package.json
├── start.sh
└── README.md
```

## Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## License

This project is open source and available under the MIT License.

## Acknowledgments

- Built with React and Node.js
- Styled with Tailwind CSS
- Icons by Lucide
- Hosted on Zo Computer

---

Made with ❤️ for educators and learners everywhere
